<div class="captcha-container">
  <form [formGroup]="captchaForm" (ngSubmit)="onSubmit()">
    <h2>{{ challenge.prompt }}</h2>

    <div class="challenge-wrapper" *ngIf="challenge" [@challengeAnimation]="animationState">

      <div *ngIf="challenge.type === 'math'" class="challenge-area">
        <app-captcha-image [text]="challenge.math!.a + ' ' + challenge.math!.op + ' ' + challenge.math!.b"></app-captcha-image>
        <input type="text"
               formControlName="answer"
               placeholder="Enter your answer"
               autocomplete="off">
      </div>

      <div *ngIf="challenge.type === 'text'" class="challenge-area">
        <app-captcha-image [text]="challenge.text!.value"></app-captcha-image>
        <input type="text"
               formControlName="answer"
               maxlength="6"
               placeholder="Type the characters"
               autocomplete="off">
      </div>
      
    </div>

    <button type="submit"
            class="submit-btn"
            [disabled]="!captchaForm.valid">
      Next
    </button>
  </form>
</div>